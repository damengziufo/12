[{"last_chapter_rule":"","title":"低调看球","author":"","url":"https://ddkanqiu.net","version":1,"col_type":"movie_3","class_name":"","type":"live","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\n\nvar lazy = $('').lazyRule((MY_HOME) => {\n    MY_URL = input\n    var li = pdfa(request(input), '#item-source&&.live-link-item')\n    return JSON.stringify({\n        urls: li.map(data => 'video://' + pd(data, '.live-link-item&&data-url')),\n        names: li.map(data => pdfh(data, '.live-link-item&&Text'))\n    })\n}, MY_HOME)\n\nvar list = pdfa(getResCode(), 'body&&.match-link')\nfor (var j of list) {\n    var url = pd(j, 'a&&href') + '#noRecordHistory#'\n    d.push({\n        title: pdfh(j, '.left-team&&Text'),\n        url: url + lazy,\n        pic_url: MY_URL + pdfh(j, 'img&&data-original'),\n        col_type: 'icon_4'\n    }, {\n        title:  '‘‘' + pdfh(j, '.mobile-type&&Text') + ' '+ pdfh(j, '.mobile-time&&Text') + '’’',\n        url: url+lazy,\n        col_type: 'text_2'\n    }, {\n        title: pdfh(j, '.right-team&&Text'),\n        url: url+lazy,\n        pic_url: MY_URL + pdfh(j, 'img,1&&data-original'),\n        col_type: 'icon_4'\n    }, {\n        col_type: 'line'\n    })\n}\nsetResult(d)","search_url":"","group":"","searchFind":"","detail_col_type":"movie_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"hiker://files/images/jrs.png","proxy":""},{"last_chapter_rule":"","title":"88看球","author":"^_^","url":"http://www.888kanqiu.com/fyclass","version":5,"col_type":"movie_3","class_name":"全部&NBA&CBA&世界杯&英超&西甲&意甲&欧冠&欧联&德甲&法甲&欧国联&足总杯&国王杯&中超&中甲&亚冠&足球综合&美职联&欧协联&网球&斯诺克&NFL&UFC&CCTV5&MLB","type":"video","class_url":"&match/1/live&match/2/live&match/3/live&match/8/live&match/9/live&match/10/live&match/12/live&match/13/live&match/14/live&match/15/live&match/16/live&match/27/live&match/33/live&match/7/live&match/31/live&match/11/live&match/23/live&match/26/live&match/28/live&match/29/live&match/30/live&match/25/live&match/32/live&match/18/live&match/38/live","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"//http://www.88kanqiuwang.com/","year_url":"","find_rule":"js:\nvar items = [];\nvar html = getResCode();\nvar tabs = pdfa(html, 'body&&.group-game-item')\nfor (var j of tabs) {\n    var pz = pdfh(j, 'span,1&&Text'); //主队\n    var ps = pdfh(j, 'span&&Text'); //中超\n    var pk = pdfh(j, 'span,2&&Text'); //客队\n    var img = pd(j, 'img&&src') + '@Referer='; //主队标\n    var imgg = pd(j, 'img,1&&src').replace(/png.*/, 'png') + '@Referer='; //客队标\n    var timer = pdfh(j, '.col-md-1&&Text'); //时间\n    var zf = pdfh(j, ''); //主队分\n\n    var state = pdfh(j, 'a,-1&&Text'); //直播中\n    var url = pd(j, 'a,-1&&href') + '#noRecordHistory#'\n    if (state != '录像') {\n        items.push({\n            title: '‘‘' + timer + '™ ' + ps + '’’',\n            col_type: 'text_center_1'\n        }, {\n            title: pz,\n            url: url,\n            pic_url: img,\n            col_type: 'icon_4'\n        }, {\n            title: state + '' + zf,\n            url: \"hiker://page/x5?##\" + url,\n            col_type: 'text_2',\n            extra: {\n                videoExcludeRules: [\"?id=http\"]\n            }\n        }, {\n            title: pk,\n            url: url,\n            pic_url: imgg,\n            col_type: 'icon_4'\n        })\n    }\n}\nsetResult(items);","search_url":"","group":"④优秀","searchFind":"","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"x5\",\"path\":\"x5\",\"rule\":\"js:\\nvar d = [];\\nlet rule = MY_RULE.title;\\nlet url = MY_URL.split(\\\"##\\\")[1];\\nlet ite = $.require(\\\"hiker://page/u\\\")(rule, getHome(url));\\nlet js = $.toString(() => {\\n    try {\\n        if (document.title && document.title.length) {\\n            let r = $$$().lazyRule((t) => {\\n                setPageTitle(t);\\n            }, document.title);\\n            fy_bridge_app.parseLazyRule(r);\\n        }\\n    } catch (e) {\\n        fy_bridge_app.log(e.toString());\\n    }\\n});\\nd.push({\\n    title: \\\"\\\",\\n    url: url,\\n    col_type: \\\"x5_webview_single\\\",\\n    desc: \\\"100%&&float\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        urlInterceptor: ite,\\n        js: js,\\n        canBack: true,\\n        jsLoadingInject: true,\\n        floatVideo: !getHome(url).includes(\\\"88kan\\\"),\\n        blockRules: [\\\".gif\\\", \\\"/ad/\\\", \\\".GIF\\\"]\\n    }\\n});\\nd.push({\\n    col_type: \\\"line\\\",\\n    extra: {\\n        id: url\\n    }\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"u\",\"path\":\"u\",\"rule\":\"$.exports = function(rule, origin) {\\n    return $.toString((rule, origin) => {\\n        let host = origin.replace(new RegExp(\\\"http://|https://\\\"), \\\"\\\").split(\\\"/\\\")[0];\\n        let hosts = host.split(\\\".\\\");\\n        if (hosts.length > 2) {\\n            host = hosts[hosts.length - 2] + \\\".\\\" + hosts[hosts.length - 1];\\n        }\\n        if (input.startsWith(\\\"magnet\\\")) {\\n            confirm({\\n                title: \\\"温馨提示\\\",\\n                content: \\\"检测到新的磁链地址，点击确定按钮即可播放，点击取消按钮可以复制链接\\\",\\n                confirm: $.toString((mag) => {\\n                    return mag;\\n                }, input),\\n                cancel: $.toString((mag) => {\\n                    return \\\"copy://\\\" + mag\\n                }, input)\\n            })\\n            return true;\\n        } else if (!input.includes(host) && input.startsWith(\\\"http\\\")) {\\n            log(input);\\n            return $.toString((url, rule) => {\\n                let white = [\\n                    \\\"douyin\\\",\\n                    \\\"douban\\\",\\n                    \\\"ixigua.com\\\",\\n                    \\\"kuaishou\\\",\\n                    \\\"bilibili\\\",\\n                    \\\"weibo\\\",\\n                    \\\"weixin\\\",\\n                    \\\"baidu\\\",\\n                    \\\"zmk.\\\",\\n                    \\\"subhd\\\",\\n                    \\\"thunder\\\",\\n                    \\\"xinjuc\\\",\\n                    \\\"grab4k\\\",\\n                    \\\"/bt\\\",\\n                    \\\"jsr10\\\",\\n                    \\\"assrt\\\",\\n                    \\\"quark\\\"\\n                ];\\n                let inWhite = white.filter(it => url.includes(it)).length > 0;\\n                if (inWhite || (!url.includes(\\\"/play/\\\") && !url.includes(\\\"/player\\\"))) {\\n                    //跳网页\\n                    fy_bridge_app.open(JSON.stringify({\\n                        title: \\\"详情\\\",\\n                        url: \\\"hiker://page/x5?rule=\\\" + rule + \\\"&r=\\\" + rule + \\\"##\\\" + url,\\n                    }))\\n                } else {\\n                    //视频\\n                    fy_bridge_app.playVideos(JSON.stringify([{\\n                        url: \\\"video://\\\" + url,\\n                        originalUrl: \\\"video://\\\" + url,\\n                        use: true,\\n                        title: document.title,\\n                        extra: JSON.stringify({\\n                            videoExcludeRules: [\\\"id=http\\\"]\\n                        })\\n                    }]));\\n                }\\n            }, input, rule);\\n        } else if (!input.startsWith(\\\"http\\\")) {\\n            log(input);\\n            //能唤起APP的白名单\\n            let white = [\\n                \\\"qklink\\\",\\n                \\\"bdnetdisk\\\",\\n                \\\"xunleiapp\\\"\\n            ];\\n            let inWhite = white.filter(it => input.startsWith(it)).length > 0;\\n            if (!inWhite) {\\n                return false;\\n            }\\n            return $.toString((url, rule) => {\\n                fy_bridge_app.openThirdApp && fy_bridge_app.openThirdApp(url);\\n            }, input, rule)\\n        } else {\\n\\n        }\\n    }, rule, origin);\\n}\"}]","icon":"#ff01bfa5","proxy":""},{"last_chapter_rule":"","title":"JrKan","author":"发粪涂墙","url":"hiker://empty##http://www.jrkan2023.com","version":0,"col_type":"movie_1_vertical_pic","class_name":"","type":"live","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"//http://qiumi1314.com/","year_url":"","find_rule":"js:\nvar items = [];\nvar html = request(MY_HOME, {\n    timeout: 2000\n});\nif (html == '') {\n    showLoading(\"正在获取可用域名\");\n    let ajax_url = request(\"https://www.qiumi1314.com/\"),\n        host\n    const InetAddress = java.net.InetAddress\n\n    try {\n        pdfa(ajax_url, '.categorythr&&a').forEach(ym => {\n            const ip = InetAddress.getByName(pdfh(ym, 'a&&href').replace('http://', '')).getHostAddress()\n            if (InetAddress.getByName(ip).isReachable(1000) == true) {\n                host = pdfh(ym, 'a&&href')\n                throw Error()\n            }\n        })\n    } catch (error) {\n        hideLoading()\n        confirm({\n            title: '更新提示',\n            content: '检测到你的规则有更新,是否立即更新？',\n            confirm: $.toString((host) => {\n                MY_RULE.url = \"hiker://empty##\" + host;\n                return \"rule://\" + base64Encode(\"海阔视界￥home_rule￥\" + JSON.stringify(MY_RULE));\n            }, host),\n            cancel: \"\"\n        })\n    }\n\n} else {\n    var tabs = pdfa(html, 'body&&.d-touch')\n\n    for (var j of tabs) {\n        var pz = pdfh(j, 'strong&&Text'); //主队\n        var ps = pdfh(j, 'span&&Text'); //中超\n        var pk = pdfh(j, 'strong,1&&Text'); //客队\n        var img = pd(j, 'img&&src'); //主队标\n        var imgg = pd(j, 'img,1&&src'); //客队标\n        var timer = pdfh(j, '.lab_time&&Text'); //时间\n        var zf = pdfh(j, ''); //主队分\n        var state = pdfh(j, ''); //直播中\n        var url = pd(j, 'a,1&&href') + '#noRecordHistory#'\n        var lazy = $('').lazyRule((MY_HOME, j) => {\n            MY_URL = input\n            var html = request(input)\n            var li = pdfa(j, '.lab_channel&&a,0:1').concat(pdfa(html, '.sub_playlist&&a'))\n            var names = li.map(data => pdfh(data, 'strong&&Text'))\n            var urls = li.map(data => 'video://' + pd(data, 'a&&data-play'))\n            return JSON.stringify({\n                urls: urls,\n                names: names\n            })\n        }, MY_HOME, j)\n        if (state != '录像') {\n            items.push({\n                title: '‘‘' + timer + '™ ' + ps + '’’',\n                col_type: 'text_center_1'\n            }, {\n                title: pz,\n                url: url + lazy,\n                pic_url: img,\n                col_type: 'icon_4'\n            }, {\n                title: state + 'VS' + zf,\n                url: url + lazy,\n                col_type: 'text_2'\n            }, {\n                title: pk,\n                url: url + lazy,\n                pic_url: imgg,\n                col_type: 'icon_4'\n            })\n        }\n    }\n}\nsetResult(items);","search_url":"","group":"⑥直播","searchFind":"","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"js:\"}]","icon":"","proxy":""},{"last_chapter_rule":"","title":"优直播","author":"","url":"https://m.yoozhibo.net/lanqiu/fyclass/video-pfypage.html","version":0,"col_type":"text_1","class_name":"NBA&CBA&WNBA&WCBA","type":"live","class_url":"nba&cba&wnba&wcba","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.list&&.c,1:0');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'li&&Text'),            \r\nurl: parseDom(list[j],'a,1&&href'),\nextra: {\n        title:pd(list[j], 'li&&Text').split('a/')[1]\n        }\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"*","group":"#️⃣③直播","searchFind":"","detail_col_type":"text_1","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\neval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\nvar title =MY_PARAMS.title;\r\nd.push({       \r\ntitle: '‘‘'+title+'’’',       \n    col_type:\"text_center_1\"\r\n});\r\nvar list = parseDomForArray(getResCode(), '#lx&&a');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&Text'),           \r\nurl:pdfh(list[j],'a&&href')+lazy\r\n});\r\n}\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((MY_HOME) => { \\n if (/ali/.test(input)) {\\n        \\n        return \\\"hiker://page/aliyun?rule=云盘君.简&page=fypage&realurl=\\\" + encodeURIComponent(input);\\n}else {\\n      return input\\n        }\\n\\n}, MY_HOME,)\"}]","icon":"http://pp.myapp.com/ma_icon/0/icon_42267251_1660643698/256","proxy":""},{"last_chapter_rule":"","title":"JRS直播","author":"yangyanch","url":"http://m.jrstiyuba.com/#fyAll","version":0,"col_type":"movie_1_left_pic","class_name":"篮球&足球","type":"live","class_url":"lanqiu&zuqiu","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\n\nif(MY_URL.indexOf(\"lanqiu\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[key=\"1\"]')}\nif(MY_URL.indexOf(\"zuqiu\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[key=\"2\"]')}\nif(MY_URL.indexOf(\"hot\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[hot=\"1\"]')}\n\nfor (var j in tabs) {\n      var pz = parseDomForHtml(tabs[j], '.teamOne&&Text');//主队\n      var ps = parseDomForHtml(tabs[j], '.score&&p,0&&Text');//中超\n      var pk = parseDomForHtml(tabs[j], '.teamTwo&&Text');//客队\n      var img = parseDom(tabs[j], '.teamOne&&img&&src');//主队标\n      var imgg = parseDom(tabs[j], '.teamTwo&&img&&src');//客队标\n      var timer = parseDomForHtml(tabs[j], '.timer&&Text');//时间\n      var state = parseDomForHtml(tabs[j], '.state&&Text');//直播中\n      var url = \"http://m.jrstiyuba.com\"+parseDomForHtml(tabs[j], 'a&&href');\nif (state =='直播中'){\nitems.push({\n            title: '‘‘'+ps+'’’' ,\n\t\t       col_type:'text_center_1'\n        });}\nelse{\nitems.push({\n            title: ps,\n\t\t       col_type:'text_center_1'\n        });}\n  items.push({\n            title: pz,\n            url: url,\n            pic_url: img,\n            col_type:'icon_4'\n        }); \n    items.push({\n            title: timer,\n            url: url,\n\t\t       col_type:'text_2'\n        });\n  items.push({\n            title: pk,\n            url: url,\n            pic_url: imgg,\n\t         col_type:'icon_4'\n        }); \n\n}\nres.data = items;\nsetHomeResult(res);","search_url":"","group":"⑥直播","searchFind":"","detail_col_type":"text_center_1","detail_find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\nitems.push({\n    desc:'240&&float',\n\t\tcol_type: 'x5_webview_single'\n});\nvar conts = parseDomForArray(html, 'body&&.liveshow&&a:not([target=\"_blank\"])'); \nfor (var i in conts) {\n\t\t   var title = parseDomForHtml(conts[i], 'a&&Text');\n\t\t   var url = parseDom(conts[i], 'a&&data-url');\n        items.push({\n            title: title,\n            url: url +`@lazyRule=.js:try{try{var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.split('PlayUrl = \"')[1].split('\"')[0]}catch(e){var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.match(/(http.*?flv.*?)'/)[1]}}catch(e){refreshX5WebView(input);'toast://使用X5播放！'}`,\n        });\n}\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://img.yanghua.net/titlepic/20210624/cjablr01ofs.png","proxy":""},{"last_chapter_rule":"","title":"极速看球","author":"","url":"http://m.jisukanqiu.com/fyclass/","version":0,"col_type":"movie_1_left_pic","class_name":"全部&热门&篮球&足球","type":"other","class_url":"&hot&lanqiu&zuqiu","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\n\nvar dates = parseDomForArray(html, 'body&&.day');\nvar conts = parseDomForArray(html, 'body&&ul')\n\nfor(var i in dates){\nitems.push({\ntitle:parseDomForHtml(dates[i],'Text'),\ncol_type: 'text_center_1'\n});\n\nvar tabs=parseDomForArray(conts[i], 'ul&&li');\nfor (var j in tabs) {\n      var pz = parseDomForHtml(tabs[j], '.left&&.name&&Text');//主队名\n      var ps = parseDomForHtml(tabs[j], '.center&&.league&&Text');//联赛名\n      var pk = parseDomForHtml(tabs[j], '.right&&.name&&Text');//客队名\n      var img = parseDom(tabs[j], '.left&&img&&src');//主队标\n      var imgg = parseDom(tabs[j], '.right&&img&&src');//客队标\n      var timer = parseDomForHtml(tabs[j], '.left&&.time&&Text');//时间\nvar state = parseDomForHtml(tabs[j], '.center&&.status&&Text');//直播中\n      var url = parseDom(tabs[j], 'a&&href');\n\nitems.push({\n            title: ps,\n\t\t       col_type:'text_center_1'\n        });\n  items.push({\n            title: pz,\n            pic_url: img,\n            col_type:'icon_4'\n        }); \n    items.push({\n            title: timer+'\\t'+state,\n            url: url,\n\t\t       col_type:'text_2'\n        });\n  items.push({\n            title: pk,\n            pic_url: imgg,\n\t         col_type:'icon_4'\n        }); \n}\n}\nres.data = items;\nsetHomeResult(res);","search_url":"","group":"⑥直播","searchFind":"","detail_col_type":"text_center_1","detail_find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\nitems.push({\n    desc:'250&&float',\n\t\tcol_type: 'x5_webview_single'\n});\nvar conts = parseDomForArray(html, 'body&&.zbnav&&a:not([target=\"_blank\"])'); \nfor (var i in conts) {\n\t\t   var title = parseDomForHtml(conts[i], 'a&&Text');\n\t\t   var url = parseDom(conts[i], 'a&&data-url');\n        items.push({\n            title: title,\n            url: url +`@lazyRule=.js:try{try{var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.split('PlayUrl = \"')[1].split('\"')[0]}catch(e){var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.match(/(http.*?flv.*?)'/)[1]}}catch(e){refreshX5WebView(input);'toast://使用X5播放！'}`,\n        });\n}\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://pic.2265.com/upload/2017-12/201712132112293733.jpg"},{"last_chapter_rule":"","title":"体育吧直播","author":"yangyanch","url":"http://m.jrstiyuba.com/#fyAll","version":0,"col_type":"movie_1_left_pic","class_name":"篮球&足球","type":"other","class_url":"lanqiu&zuqiu","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\n\nif(MY_URL.indexOf(\"lanqiu\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[key=\"1\"]')}\nif(MY_URL.indexOf(\"zuqiu\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[key=\"2\"]')}\nif(MY_URL.indexOf(\"hot\")!=-1){var tabs = parseDomForArray(html, 'body&&.catalog&&a[hot=\"1\"]')}\n\nfor (var j in tabs) {\n      var pz = parseDomForHtml(tabs[j], '.teamOne&&Text');//主队\n      var ps = parseDomForHtml(tabs[j], '.score&&p,0&&Text');//中超\n      var pk = parseDomForHtml(tabs[j], '.teamTwo&&Text');//客队\n      var img = parseDom(tabs[j], '.teamOne&&img&&src');//主队标\n      var imgg = parseDom(tabs[j], '.teamTwo&&img&&src');//客队标\n      var timer = parseDomForHtml(tabs[j], '.timer&&Text');//时间\n      var state = parseDomForHtml(tabs[j], '.state&&Text');//直播中\n      var url = \"http://m.jrstiyuba.com\"+parseDomForHtml(tabs[j], 'a&&href');\nif (state =='直播中'){\nitems.push({\n            title: '‘‘'+ps+'’’' ,\n\t\t       col_type:'text_center_1'\n        });}\nelse{\nitems.push({\n            title: ps,\n\t\t       col_type:'text_center_1'\n        });}\n  items.push({\n            title: pz,\n            url: url,\n            pic_url: img,\n            col_type:'icon_4'\n        }); \n    items.push({\n            title: timer,\n            url: url,\n\t\t       col_type:'text_2'\n        });\n  items.push({\n            title: pk,\n            url: url,\n            pic_url: imgg,\n\t         col_type:'icon_4'\n        }); \n\n}\nres.data = items;\nsetHomeResult(res);","search_url":"","group":"⑥直播","searchFind":"","detail_col_type":"text_center_1","detail_find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\nitems.push({\n    desc:'240&&float',\n\t\tcol_type: 'x5_webview_single'\n});\nvar conts = parseDomForArray(html, 'body&&.liveshow&&a:not([target=\"_blank\"])'); \nfor (var i in conts) {\n\t\t   var title = parseDomForHtml(conts[i], 'a&&Text');\n\t\t   var url = parseDom(conts[i], 'a&&data-url');\n        items.push({\n            title: title,\n            url: url +`@lazyRule=.js:try{try{var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.split('PlayUrl = \"')[1].split('\"')[0]}catch(e){var src=parseDom(fetch(input,{}),\"body&&script&&Html\");src.match(/(http.*?flv.*?)'/)[1]}}catch(e){refreshX5WebView(input);'toast://使用X5播放！'}`,\n        });\n}\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://img11.18183.com/ku18183/image/2019/08/20/b541702422ae5125ba7c1ef8ca5d5113.jpg","proxy":""},{"last_chapter_rule":"","title":"928直播","author":"套壳网页，只需要改小程序链接##后面的内容即可","url":"hiker://empty##http://www.928.tv","version":1,"col_type":"movie_3","class_name":"","type":"other","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n//正常来讲这里不需要修改\nvar d = [];\nd.push({\n    col_type: \"x5_webview_single\",\n    url: MY_URL.split(\"##\")[1],\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js: $.toString((rule) => {\n            var token_timer = function() {\n                var timer = setInterval(() => {\n                    try {\n                        var urls = _getUrls();\n                        var exclude = /playm3u8|m3u8\\.tv|min\\.css|404\\.m3u8|\\.html|\\.php/;\n                        var contain = /\\.mp4|\\.m3u8|\\.flv|\\.avi|\\.mpeg|\\.wmv|\\.mov|\\.rmvb|\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\n                        for (var i in urls) {\n                            //fy_bridge_app.log(urls[i]);\n                            if (!exclude.test(urls[i]) && contain.test(urls[i])) {\n                                clearInterval(timer);\n                                fy_bridge_app.playVideo(urls[i]);\n                                //静音\n                                function muteMe(elem) {\n                                    try {\n                                        elem.pause();\n                                    } catch (e) {}\n                                }\n                                var videos = document.querySelectorAll(\"video\"),\n                                    audios = document.querySelectorAll(\"audio\"),\n                                    v2 = document.querySelectorAll(\"embed\"),\n                                    v3 = document.querySelectorAll(\"#player\");\n                                try {\n                                    [].forEach.call(videos, function(video) {\n                                        muteMe(video);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(audios, function(audio) {\n                                        muteMe(audio);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(v2, function(v) {\n                                        muteMe(v);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(v3, function(v) {\n                                        muteMe(v);\n                                    });\n                                } catch (e) {}\n                                return;\n                                //return urls[i];\n                            }\n                        }\n                    } catch (e) {}\n                }, 200)\n            };\n            token_timer();\n        }, MY_RULE.title)\n    }\n})\nsetResult(d)","search_url":"","group":"①主页","searchFind":"","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"","proxy":""},{"last_chapter_rule":"","title":"无插件直播","author":"","url":"hiker://empty##","version":3,"col_type":"movie_3","class_name":"","type":"other","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nd.push({\n    col_type: \"x5_webview_single\",\n    url: \"http://www.wuchajian.vip/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        floatVideo: true,\n        blockRules: [\"google\", \"baidu\", \".gif\", \"/ad/\"]\n    }\n})\nsetResult(d)","search_url":"","group":"⑥直播","searchFind":"","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"","proxy":""},{"last_chapter_rule":"","title":"快直播","author":"幻梦月光贝","url":"hiker://empty##","version":0,"col_type":"movie_3","class_name":"","type":"other","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nd.push({\n    col_type: \"x5_webview_single\",\n    url: \"https://c7.123kzb.org/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        floatVideo: true\n    }\n})\nsetResult(d)","search_url":"","group":"正版","searchFind":"","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"","proxy":""},{"last_chapter_rule":"","pageList":[],"title":"NBA录像","author":"yangyanch","version":0,"type":"live","url":"https://m.98zhibo.com/nbalx/list_175_fypage.html;get;GB2312","col_type":"text_center_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".list&&.lite;Text.js:input.split(' ')[2];;Text.js:input.split(' ')[4]+\"\\t\\t\"+input.split(' ')[3];a&&href","searchFind":"","search_url":"","group":"⑥直播","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n    var jsUrl = fetch('hiker://files/cache/MyParseSet.json',{});\njsFile = jsUrl == '' ?  fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/Cloudparse_Dn.js',{}) : fetch(JSON.parse(jsUrl).cj,{}); eval(jsFile);\n\nif(getVar(\"解析列表\")==\"开\")\n{setParse();}\n\nd.push({\n\ttitle: '““””<b><span style=\"color: #FF0000\">比赛回放</span></b>',\n\turl: set_switch,\n desc: '‘‘’’<small><small>断插设置</small></small>',\n\tcol_type: 'text_center_1'\n});\n\nvar conts = parseDomForArray(html, 'body&&.signals&&a'); \nfor (var i in conts) {\n\t\t   var title = parseDomForHtml(conts[i], 'a&&Text');\n   d.push({\n            title: '‘‘'+title+'’’',\n            url: parseDom(conts[i],'a&&href')+`@lazyRule=.js:if(input.match(/migu|qq.com|iqiyi|youku/)){input;`+lazy+`}else{input}`,\n            col_type: 'text_center_1'\n        });\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"#fffe9700"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\nlog(MY_URL)\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, 1),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let min = 60 * 24 * 1,\n            data = [],\n            time = parseInt(readFile('updatetime')) || 0,\n            now = new Date().getTime()\n        if (now - time > 1000 * 60 * min) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                data = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    data = JSON.parse(data).rule\n                data = JSON.parse(data)\n            } catch (e) {\n                data = []\n            }\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache'))\n                log('没有获取到更新数据')\n            }\n            else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updatetime', '' + now)\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache'))\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/;/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/?/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updatetime')\n            back(true)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd),\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'text_2'\n}, {\n    title: '🖥 独立首页: ' + (newWindow ? '是' : '否'),\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'text_2'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔄  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"NBA直播合集","author":"轻合集生成器","version":77,"type":"live","url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/share/NBA直播合集.json')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\nlog(MY_URL)\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, 1),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let min = 60 * 24 * 1,\\n            data = [],\\n            time = parseInt(readFile('updatetime')) || 0,\\n            now = new Date().getTime()\\n        if (now - time > 1000 * 60 * min) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                data = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    data = JSON.parse(data).rule\\n                data = JSON.parse(data)\\n            } catch (e) {\\n                data = []\\n            }\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache'))\\n                log('没有获取到更新数据')\\n            }\\n            else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updatetime', '' + now)\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache'))\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/;/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/?/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/?/g, '?').replace(/&/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updatetime')\\n            back(true)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = parseInt(readFile('searchThd') || '5'),\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd),\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'text_2'\\n}, {\\n    title: '🖥 独立首页: ' + (newWindow ? '是' : '否'),\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'text_2'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔄  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://t10.baidu.com/it/u=4160064384,1453620689&fm=58"},{"last_chapter_rule":"","pageList":[],"title":"NBA录像屋","author":"子丑寅卯","version":2,"type":"live","url":"https://www.luxiangwu.com/fyAll/index_fypage.html[firstPage=https://www.luxiangwu.com/fyAll/]","col_type":"text_1","class_name":"首页&NBA录像&CBA录像&NBA视频&NBA十佳","class_url":"list&nbaluxiang&cbaluxiang&nbashipin&nbatop10","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '#content&&.post,1:0');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h2&&Text'),            \r\nurl: parseDom(list[j],'a&&href')  \r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '#content&&.post,1:0');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h2&&Text'),            \r\nurl: pd(list[j],'a&&href')\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.luxiangwu.com/search?templodeId=21&tbname=news&word=**&index=fypage","group":"⑥直播","detail_col_type":"text_1","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\n\r\nd.push({       \r\ntitle: '‘‘'+parseDomForHtml(getResCode(), '#content&&h2&&Text')+'’’',       \n    col_type:\"text_center_1\"\r\n});\nvar config = fetch('hiker://files/cache/MyParseSet.json');\nif(config == '' || !fetch(JSON.parse(config).cj)){\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n}else{\n    var jsUrl = JSON.parse(config).cj;\n} eval(fetch(jsUrl));\n\nd.push({       \r\ntitle:\"插件设置\",   \nurl:\"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",    \ncol_type:\"text_center_1\"\r\n});\r\nvar list = parseDomForArray(getResCode(), '.entry&&a');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&Text'),           \r\nurl:$(pdfh(list[j],'a&&href')).lazyRule(() => {\nlet file = \"hiker://files/rules/DuanNian/MyParse.json\";\nif (fileExist(file)) {\neval('json='+fetch(file));\nlet jsUrl = json.settings.cj;\neval(fetch(jsUrl));\nreturn aytmParse(input);\n\n}\n})\r\n});\r\n}\r\nres.data = d;\r\nsetHomeResult(res);\r\n","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.luxiangwu.com/fyAll/index_4.html"}]